<?xml version="1.0" encoding="utf-8"?>
<!-- Simple example to demonstrate the Spark DataGrid control. -->
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009"
			   xmlns:s="library://ns.adobe.com/flex/spark"
			   xmlns:mx="library://ns.adobe.com/flex/mx">
	
	<fx:Declarations>
		<s:XMLListCollection id="employees">
			<s:source>
				<fx:XMLList>
					<employee>
						<name>Christina Coenraets</name>
						<phone>555-219-2270</phone>
						<email>ccoenraets@fictitious.com</email>
						<active>true</active>
					</employee>
					<employee>
						<name>Joanne Wall</name>
						<phone>555-219-2012</phone>
						<email>jwall@fictitious.com</email>
						<active>true</active>
					</employee>
					<employee>
						<name>Maurice Smith</name>
						<phone>555-219-2012</phone>
						<email>maurice@fictitious.com</email>
						<active>false</active>
					</employee>
					<employee>
						<name>Mary Jones</name>
						<phone>555-219-2000</phone>
						<email>mjones@fictitious.com</email>
						<active>true</active>
					</employee>
				</fx:XMLList>
			</s:source>
		</s:XMLListCollection>
	</fx:Declarations>
	
	<s:Panel title="Spark DataGrid Control Example"
			 width="75%" height="75%" 
			 horizontalCenter="0" verticalCenter="0">
		<s:VGroup left="10" right="10" top="10" bottom="10">
			<s:Label width="100%" color="blue"
					 text="Select a row in the DataGrid control."/>			
			<s:DataGrid id="dg"
						dataProvider="{employees}"
						editable="true"						
						width="100%" height="100%">
				<s:columns>
					<s:ArrayCollection>
						<s:GridColumn dataField="name" headerText="Name"/>
						<s:GridColumn dataField="phone" headerText="Phone"/>
						<s:GridColumn dataField="email" headerText="Email">
							/* Declare a custom itemRenderer for the email column */
							<s:itemRenderer>
								<fx:Component>
									<s:GridItemRenderer>
									    <fx:Script>
									        <![CDATA[
									            import flashx.textLayout.conversion.TextConverter;									            
									            override public function prepare(hasBeenRecycled:Boolean):void {
									                anchor.textFlow = TextConverter.importToFlow("<a href='mailto:" 
									                	+ data.email + "'>" + data.email + "</a>", 
									                	TextConverter.TEXT_FIELD_HTML_FORMAT);
									            }
									        ]]>
									    </fx:Script>									    
    									<s:RichEditableText id="anchor" editable="false" left="5" verticalCenter="0" right="5" lineBreak="explicit" />
    								</s:GridItemRenderer>
								</fx:Component>
							</s:itemRenderer>
						</s:GridColumn>
						<s:GridColumn dataField="active" headerText="Active" />
					</s:ArrayCollection>
				</s:columns>
			</s:DataGrid>
			
			<s:Form width="100%" height="100%">
				<s:FormItem label="Name">
					<s:Label text="{dg.selectedItem.name}"/>
				</s:FormItem>
				<s:FormItem label="Email">
					<s:Label text="{dg.selectedItem.email}"/>
				</s:FormItem>
				<s:FormItem label="Phone">
					<s:Label text="{dg.selectedItem.phone}"/>
				</s:FormItem>
			</s:Form>
		</s:VGroup>
	</s:Panel>	
</s:Application>